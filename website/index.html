<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI System Administrator Agent Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">
</head>
<body>
    <header>
        <div class="container">
            <h1>ü§ñ AI System Administrator Agent Dashboard</h1>
            <p>Dual-Model AI Assistant for DevOps & System Administration</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#models">Models</a></li>
                <li><a href="#chat" class="nav-chat">üí¨ Chat</a></li>
                <li><a href="#monitor" class="nav-monitor">üìä Monitor</a></li>
                <li><a href="#api">API Usage</a></li>
                <li><a href="#examples">Examples</a></li>
                <li><a href="#management">Management</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="container">
            <section id="overview">
                <h2>üéØ Overview</h2>
                <p>Your Raspberry Pi 5 "meatpi" is running a sophisticated dual-model AI system administrator agent with intelligent routing between two specialized models:</p>
                
                <div class="model-cards">
                    <div class="model-card gemma">
                        <h3>üß† Gemma 3 (1B parameters)</h3>
                        <p><strong>Best for:</strong> Fast responses, general tasks, system monitoring, script generation</p>
                        <p><strong>Port:</strong> 11434</p>
                        <p><strong>Use when:</strong> You need quick answers for common system admin tasks</p>
                    </div>
                    
                    <div class="model-card deepseek">
                        <h3>üß† DeepSeek-R1 (1.5B parameters)</h3>
                        <p><strong>Best for:</strong> Complex reasoning, problem analysis, troubleshooting, decision making</p>
                        <p><strong>Port:</strong> 11435</p>
                        <p><strong>Use when:</strong> You need deep analysis or complex problem-solving</p>
                    </div>
                </div>

                <div class="access-points">
                    <h3>üåê Access Points</h3>
                    <div class="access-grid">
                        <div class="access-item">
                            <h4>API Gateway (Recommended)</h4>
                            <p><code>http://meatpi:8080</code></p>
                            <p>Intelligent routing that automatically selects the best model</p>
                        </div>
                        <div class="access-item">
                            <h4>Health Check</h4>
                            <p><code>http://meatpi:8080/health</code></p>
                            <p>Check if all services are running</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="models">
                <h2>ü§ñ Model Selection Guide</h2>
                
                <div class="model-guide">
                    <div class="guide-section">
                        <h3>When to Use Gemma 3</h3>
                        <ul>
                            <li>‚úÖ Quick system status checks</li>
                            <li>‚úÖ Command generation and scripts</li>
                            <li>‚úÖ Simple troubleshooting</li>
                            <li>‚úÖ File operations and directory listings</li>
                            <li>‚úÖ Service management (start/stop/restart)</li>
                            <li>‚úÖ Basic system monitoring</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h3>When to Use DeepSeek-R1</h3>
                        <ul>
                            <li>‚úÖ Deep system analysis</li>
                            <li>‚úÖ Complex problem troubleshooting</li>
                            <li>‚úÖ Performance optimization decisions</li>
                            <li>‚úÖ Security vulnerability analysis</li>
                            <li>‚úÖ Root cause investigation</li>
                            <li>‚úÖ Strategic system planning</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="chat">
                <h2>üí¨ Interactive Chat Interface</h2>
                <p>Chat directly with your AI agents using the interface below:</p>
                
                <div class="chat-container">
                    <div class="chat-sidebar">
                        <div class="model-selector">
                            <h3>ü§ñ Select Model</h3>
                            <div class="model-options">
                                <label class="model-option">
                                    <input type="radio" name="model" value="auto" checked>
                                    <span class="model-name">üß† Auto-Select</span>
                                    <span class="model-desc">Let AI choose the best model</span>
                                </label>
                                <label class="model-option">
                                    <input type="radio" name="model" value="gemma3">
                                    <span class="model-name">‚ö° Gemma 3 (1B)</span>
                                    <span class="model-desc">Fast, general tasks</span>
                                </label>
                                <label class="model-option">
                                    <input type="radio" name="model" value="deepseek">
                                    <span class="model-name">üß† DeepSeek-R1 (1.5B)</span>
                                    <span class="model-desc">Complex analysis</span>
                                </label>
                            </div>
                        </div>

                        <div class="quick-actions">
                            <h3>‚ö° Quick Actions</h3>
                            <button class="quick-btn" data-action="system-status">System Status</button>
                            <button class="quick-btn" data-action="docker-status">Docker Status</button>
                            <button class="quick-btn" data-action="network-check">Network Check</button>
                            <button class="quick-btn" data-action="security-check">Security Check</button>
                            <button class="quick-btn" data-action="performance-analysis">Performance Analysis</button>
                        </div>
                    </div>

                    <div class="chat-main">
                        <div class="chat-messages" id="chatMessages">
                            <div class="message system-message">
                                <div class="message-content">
                                    <strong>ü§ñ AI System Administrator Agent</strong><br>
                                    Hello! I'm your AI system administrator assistant. I can help you with:
                                    <ul>
                                        <li>System monitoring and status checks</li>
                                        <li>Docker container management</li>
                                        <li>Network troubleshooting</li>
                                        <li>Security analysis</li>
                                        <li>Performance optimization</li>
                                        <li>Command generation and scripts</li>
                                    </ul>
                                    How can I help you today?
                                </div>
                                <div class="message-time">System</div>
                            </div>
                        </div>

                        <div class="chat-input-container">
                            <div class="input-wrapper">
                                <textarea id="messageInput" placeholder="Ask me anything about system administration..." rows="3"></textarea>
                                <button id="sendButton" class="send-btn">
                                    <span class="send-icon">üì§</span>
                                    Send
                                </button>
                            </div>
                            <div class="input-footer">
                                <span class="model-indicator" id="modelIndicator">Auto-Select</span>
                                <span class="connection-status" id="connectionStatus">üü¢ Connected</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="monitor">
                <h2>üìä Command Execution Monitor</h2>
                <p>Monitor real-time command execution and system activity:</p>
                
                <div class="monitor-container">
                    <div class="monitor-sidebar">
                        <div class="system-status">
                            <h3>üñ•Ô∏è System Status</h3>
                            <div class="status-grid">
                                <div class="status-item">
                                    <span class="status-label">API Gateway</span>
                                    <span class="status-value" id="gatewayStatus">Checking...</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">Gemma 3</span>
                                    <span class="status-value" id="gemmaStatus">Checking...</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">DeepSeek-R1</span>
                                    <span class="status-value" id="deepseekStatus">Checking...</span>
                                </div>
                            </div>
                        </div>

                        <div class="monitor-controls">
                            <h3>üéõÔ∏è Monitor Controls</h3>
                            <div class="control-group">
                                <label>
                                    <input type="checkbox" id="autoRefresh" checked>
                                    Auto Refresh
                                </label>
                                <label>
                                    <input type="checkbox" id="showTimestamps" checked>
                                    Show Timestamps
                                </label>
                                <label>
                                    <input type="checkbox" id="filterErrors" checked>
                                    Highlight Errors
                                </label>
                            </div>
                            <div class="control-buttons">
                                <button id="refreshBtn" class="control-btn">üîÑ Refresh</button>
                                <button id="clearBtn" class="control-btn">üóëÔ∏è Clear</button>
                                <button id="exportBtn" class="control-btn">üì• Export</button>
                            </div>
                        </div>

                        <div class="filter-section">
                            <h3>üîç Filters</h3>
                            <div class="filter-group">
                                <label>Service:</label>
                                <select id="serviceFilter">
                                    <option value="all">All Services</option>
                                    <option value="api-gateway">API Gateway</option>
                                    <option value="ollama-gemma3">Gemma 3</option>
                                    <option value="ollama-deepseek">DeepSeek-R1</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Level:</label>
                                <select id="levelFilter">
                                    <option value="all">All Levels</option>
                                    <option value="info">Info</option>
                                    <option value="warning">Warning</option>
                                    <option value="error">Error</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="monitor-main">
                        <div class="monitor-header">
                            <h3>üìã Command Execution Log</h3>
                            <div class="monitor-stats">
                                <span class="stat-item">
                                    <span class="stat-label">Total Commands:</span>
                                    <span class="stat-value" id="totalCommands">0</span>
                                </span>
                                <span class="stat-item">
                                    <span class="stat-label">Success Rate:</span>
                                    <span class="stat-value" id="successRate">0%</span>
                                </span>
                                <span class="stat-item">
                                    <span class="stat-label">Avg Response:</span>
                                    <span class="stat-value" id="avgResponse">0ms</span>
                                </span>
                            </div>
                        </div>

                        <div class="log-container" id="logContainer">
                            <div class="log-entry info">
                                <div class="log-timestamp">2025-01-10 12:00:00</div>
                                <div class="log-service">system</div>
                                <div class="log-level">info</div>
                                <div class="log-message">Command execution monitor started</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="api">
                <h2>üîß API Usage</h2>
                
                <div class="api-section">
                    <h3>Quick Test</h3>
                    <div class="code-block">
                        <pre><code># Test setup
curl http://meatpi:8080/health

# Test AI interaction
curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Hello, who are you?"}'</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3>Auto-Selection (Recommended)</h3>
                    <div class="code-block">
                        <pre><code># Simple query (will use Gemma 3)
curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Show me running processes"}'

# Complex query (will use DeepSeek-R1)
curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Why is my system experiencing intermittent failures?"}'</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3>Force Specific Model</h3>
                    <div class="code-block">
                        <pre><code># Force Gemma 3
curl -X POST http://meatpi:8080/chat/gemma3 \
  -H "Content-Type: application/json" \
  -d '{"message": "List all Docker containers"}'

# Force DeepSeek-R1
curl -X POST http://meatpi:8080/chat/deepseek \
  -H "Content-Type: application/json" \
  -d '{"message": "Analyze this error log and suggest fixes"}'</code></pre>
                    </div>
                </div>
            </section>

            <section id="examples">
                <h2>üìã Common Tasks</h2>
                
                <div class="examples-grid">
                    <div class="example-card">
                        <h3>System Monitoring</h3>
                        <div class="code-block">
                            <pre><code>curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Show me current system status, CPU, memory, and disk usage"}'</code></pre>
                        </div>
                    </div>
                    
                    <div class="example-card">
                        <h3>Docker Management</h3>
                        <div class="code-block">
                            <pre><code>curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Show me all Docker containers and their status"}'</code></pre>
                        </div>
                    </div>
                    
                    <div class="example-card">
                        <h3>Network Troubleshooting</h3>
                        <div class="code-block">
                            <pre><code>curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Check network connectivity and show open ports"}'</code></pre>
                        </div>
                    </div>
                    
                    <div class="example-card">
                        <h3>Security Analysis</h3>
                        <div class="code-block">
                            <pre><code>curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Perform a basic security check of my system"}'</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section id="management">
                <h2>üõ†Ô∏è Management</h2>
                
                <div class="management-section">
                    <h3>Service Status</h3>
                    <div class="code-block">
                        <pre><code># Check all services
ssh inggo@meatpi 'cd /home/inggo/ai-agent && docker-compose -f docker-compose.dual-models.yml ps'

# Check specific service logs
ssh inggo@meatpi 'docker logs api-gateway'
ssh inggo@meatpi 'docker logs ollama-gemma3'
ssh inggo@meatpi 'docker logs ollama-deepseek'</code></pre>
                    </div>
                </div>

                <div class="management-section">
                    <h3>Restart Services</h3>
                    <div class="code-block">
                        <pre><code># Restart all services
ssh inggo@meatpi 'cd /home/inggo/ai-agent && docker-compose -f docker-compose.dual-models.yml restart'

# Restart specific service
ssh inggo@meatpi 'cd /home/inggo/ai-agent && docker-compose -f docker-compose.dual-models.yml restart api-gateway'</code></pre>
                    </div>
                </div>

                <div class="management-section">
                    <h3>Health Checks</h3>
                    <div class="code-block">
                        <pre><code># API Gateway health
curl http://meatpi:8080/health

# Model availability
curl http://meatpi:11434/api/tags
curl http://meatpi:11435/api/tags</code></pre>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>ü§ñ AI System Administrator Agent - Running on Raspberry Pi 5 "meatpi"</p>
            <p>Documentation generated automatically - Last updated: <span id="lastUpdated"></span></p>
        </div>
    </footer>

    <script src="js/dashboard.js"></script>
</body>
</html>