<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI System Administrator Agent Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">
</head>
<body>
    <header>
        <div class="container">
            <h1>ü§ñ AI System Administrator Agent Dashboard</h1>
            <p>Dual-Model AI Assistant for DevOps & System Administration</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#models">Models</a></li>
                <li><a href="#monitor" class="nav-monitor">üìä Monitor</a></li>
                <li><a href="#api">API Usage</a></li>
                <li><a href="#examples">Examples</a></li>
                <li><a href="#management">Management</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="container">
            <section id="overview">
                <h2>üéØ Overview</h2>
                <p>Your Raspberry Pi 5 "meatpi" is running a sophisticated dual-model AI system administrator agent with intelligent routing between two specialized models:</p>
                
                <div class="model-cards">
                    <div class="model-card gemma">
                        <h3>‚ö° TinyLlama (1.1B parameters)</h3>
                        <p><strong>Best for:</strong> Ultra-fast responses, simple commands, quick answers, low resource usage</p>
                        <p><strong>Port:</strong> 11434</p>
                        <p><strong>Use when:</strong> You need instant responses for basic questions and commands</p>
                    </div>
                    
                    <div class="model-card deepseek">
                        <h3>üéØ Qwen2.5 (0.5B parameters)</h3>
                        <p><strong>Best for:</strong> Lightweight system administration, code generation, efficient processing</p>
                        <p><strong>Port:</strong> 11435</p>
                        <p><strong>Use when:</strong> You need capable but efficient system admin assistance</p>
                    </div>
                </div>

                <div class="access-points">
                    <h3>üåê Access Points</h3>
                    <div class="access-grid">
                        <div class="access-item">
                            <h4>API Gateway (Recommended)</h4>
                            <p><code>http://meatpi:8080</code></p>
                            <p>Intelligent routing that automatically selects the best model</p>
                        </div>
                        <div class="access-item">
                            <h4>Health Check</h4>
                            <p><code>http://meatpi:8080/health</code></p>
                            <p>Check if all services are running</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="models">
                <h2>ü§ñ Model Selection Guide</h2>
                
                <div class="model-guide">
                    <div class="guide-section">
                        <h3>When to Use TinyLlama (Ultra-Fast)</h3>
                        <ul>
                            <li>‚úÖ Simple questions and greetings</li>
                            <li>‚úÖ Basic math and calculations</li>
                            <li>‚úÖ Quick command help</li>
                            <li>‚úÖ Fast responses for simple tasks</li>
                            <li>‚úÖ Low resource usage</li>
                            <li>‚úÖ Instant feedback</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h3>When to Use Qwen2.5 (Efficient)</h3>
                        <ul>
                            <li>‚úÖ System administration tasks</li>
                            <li>‚úÖ Code generation and scripts</li>
                            <li>‚úÖ File operations and directory listings</li>
                            <li>‚úÖ Service management (start/stop/restart)</li>
                            <li>‚úÖ Basic troubleshooting</li>
                            <li>‚úÖ Lightweight but capable processing</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="terminal-access">
                <h2>üíª Terminal Access</h2>
                <p>Interact with your AI engineer directly from the terminal for the most reliable experience:</p>
                
                <div class="terminal-instructions">
                    <h3>üöÄ Quick Start</h3>
                    <div class="code-block">
                        <code># SSH into your Raspberry Pi</code><br>
                        <code>ssh inggo@meatpi</code><br><br>
                        <code># Navigate to the project directory</code><br>
                        <code>cd /home/inggo/ai-agent</code><br><br>
                        <code># Test with a simple question (works great!)</code><br>
                        <code>python3 src/cli_chat.py "Hello, how are you?"</code><br><br>
                        <code># Start interactive chat</code><br>
                        <code>python3 src/cli_chat.py</code>
                    </div>
                    
                    <h3>üìã Interactive Chat Commands</h3>
                    <div class="command-table">
                        <table>
                            <tr><th>Command</th><th>Description</th></tr>
                            <tr><td><code>/help</code></td><td>Show available commands</td></tr>
                            <tr><td><code>/models</code></td><td>List available AI models</td></tr>
                            <tr><td><code>/model gemma3</code></td><td>Switch to Gemma 3 model</td></tr>
                            <tr><td><code>/model deepseek</code></td><td>Switch to DeepSeek-R1 model</td></tr>
                            <tr><td><code>/auto</code></td><td>Use automatic model selection</td></tr>
                            <tr><td><code>/quit</code></td><td>Exit the chat</td></tr>
                        </table>
                    </div>
                    
                    <h3>üéØ Single Command Usage</h3>
                    <div class="code-block">
                        <code># Ask a simple question</code><br>
                        <code>python3 src/cli_chat.py "Show me system status"</code><br><br>
                        <code># Use specific model</code><br>
                        <code>python3 src/cli_chat.py --model deepseek "Analyze this error log"</code><br><br>
                        <code># Use Gemma 3 for quick tasks</code><br>
                        <code>python3 src/cli_chat.py --model gemma3 "Generate a backup script"</code>
                    </div>
                    
                    <h3>üß† Model Selection Guide</h3>
                    <div class="model-guide">
                        <div class="model-section">
                            <h4>‚ö° Gemma 3 (1B) - Use for:</h4>
                            <ul>
                                <li>Fast responses for simple tasks</li>
                                <li>System monitoring commands</li>
                                <li>Script generation and automation</li>
                                <li>Quick troubleshooting steps</li>
                                <li>General system administration</li>
                            </ul>
                        </div>
                        <div class="model-section">
                            <h4>üß† DeepSeek-R1 (1.5B) - Use for:</h4>
                            <ul>
                                <li>Complex reasoning and analysis</li>
                                <li>Problem diagnosis and root cause analysis</li>
                                <li>Decision making for system changes</li>
                                <li>Detailed troubleshooting workflows</li>
                                <li>Architecture planning and optimization</li>
                            </ul>
                        </div>
                    </div>
                    
                    <h3>üìã Common Use Cases</h3>
                    <div class="use-cases">
                        <div class="use-case">
                            <h4>üîç System Monitoring</h4>
                            <div class="code-block">
                                <code>python3 src/cli_chat.py "Show me current system resources"</code><br>
                                <code>python3 src/cli_chat.py "What processes are using the most CPU?"</code><br>
                                <code>python3 src/cli_chat.py "Check disk space usage"</code>
                            </div>
                        </div>
                        
                        <div class="use-case">
                            <h4>üê≥ Docker Management</h4>
                            <div class="code-block">
                                <code>python3 src/cli_chat.py "List all running Docker containers"</code><br>
                                <code>python3 src/cli_chat.py "How do I restart a Docker container?"</code><br>
                                <code>python3 src/cli_chat.py "Show me Docker container logs"</code>
                            </div>
                        </div>
                        
                        <div class="use-case">
                            <h4>üåê Network Troubleshooting</h4>
                            <div class="code-block">
                                <code>python3 src/cli_chat.py "Check network connectivity"</code><br>
                                <code>python3 src/cli_chat.py "Show me open ports"</code><br>
                                <code>python3 src/cli_chat.py "Test DNS resolution"</code>
                            </div>
                        </div>
                        
                        <div class="use-case">
                            <h4>üîí Security Analysis</h4>
                            <div class="code-block">
                                <code>python3 src/cli_chat.py --model deepseek "Analyze system security"</code><br>
                                <code>python3 src/cli_chat.py "Check for failed login attempts"</code><br>
                                <code>python3 src/cli_chat.py "Show me firewall status"</code>
                            </div>
                        </div>
                        
                        <div class="use-case">
                            <h4>‚ö° Performance Optimization</h4>
                            <div class="code-block">
                                <code>python3 src/cli_chat.py --model deepseek "My system is slow, help me optimize"</code><br>
                                <code>python3 src/cli_chat.py "Analyze memory usage patterns"</code><br>
                                <code>python3 src/cli_chat.py "Check for performance bottlenecks"</code>
                            </div>
                        </div>
                    </div>
                    
                    <h3>üîß Alternative Access Methods</h3>
                    <div class="access-methods">
                        <div class="access-method">
                            <h4>Direct API Gateway</h4>
                            <div class="code-block">
                                <code>curl -X POST http://localhost:9000/chat \</code><br>
                                <code>  -H "Content-Type: application/json" \</code><br>
                                <code>  -d '{"message": "Hello, show me system status"}'</code>
                            </div>
                        </div>
                        
                        <div class="access-method">
                            <h4>Direct Model Access</h4>
                            <div class="code-block">
                                <code># Gemma 3 (Port 11434)</code><br>
                                <code>curl http://localhost:11434/api/generate \</code><br>
                                <code>  -d '{"model": "gemma3:1b", "prompt": "Hello"}'</code><br><br>
                                <code># DeepSeek-R1 (Port 11435)</code><br>
                                <code>curl http://localhost:11435/api/generate \</code><br>
                                <code>  -d '{"model": "deepseek-r1:1.5b", "prompt": "Hello"}'</code>
                            </div>
                        </div>
                    </div>
                    
                    <h3>üõ†Ô∏è Troubleshooting</h3>
                    <div class="troubleshooting">
                        <div class="trouble-section">
                            <h4>If CLI Chat Doesn't Start</h4>
                            <div class="code-block">
                                <code># Check if Python 3 is available</code><br>
                                <code>python3 --version</code><br><br>
                                <code># Install required dependencies</code><br>
                                <code>pip3 install httpx</code><br><br>
                                <code># Check if API Gateway is running</code><br>
                                <code>curl http://localhost:9000/health</code>
                            </div>
                        </div>
                        
                        <div class="trouble-section">
                            <h4>If Models Don't Respond</h4>
                            <div class="code-block">
                                <code># Check if Ollama services are running</code><br>
                                <code>docker ps | grep ollama</code><br><br>
                                <code># Check model availability</code><br>
                                <code>curl http://localhost:11434/api/tags</code><br>
                                <code>curl http://localhost:11435/api/tags</code>
                            </div>
                        </div>
                        
                        <div class="trouble-section">
                            <h4>If API Gateway is Down</h4>
                            <div class="code-block">
                                <code># Restart the API Gateway</code><br>
                                <code>cd /home/inggo/ai-agent</code><br>
                                <code>docker-compose -f docker-compose.dual-models.yml restart api-gateway</code>
                            </div>
                        </div>
                    </div>
                    
                    <div class="ready-section">
                        <h3>üéâ You're Ready!</h3>
                        <p>Your AI System Administrator Agent is now ready for terminal interaction. The CLI interface provides the most reliable way to interact with your AI engineer, with full access to both Gemma 3 and DeepSeek-R1 models.</p>
                        <div class="code-block">
                            <code>Start with: python3 src/cli_chat.py</code>
                        </div>
                    </div>
                </div>
            </section>

            <section id="monitor">
                <h2>üìä Command Execution Monitor</h2>
                <p>Monitor real-time command execution and system activity:</p>
                
                <div class="monitor-container">
                    <div class="monitor-sidebar">
                        <div class="system-status">
                            <h3>üñ•Ô∏è System Status</h3>
                            <div class="status-grid">
                                <div class="status-item">
                                    <span class="status-label">API Gateway</span>
                                    <span class="status-value" id="gatewayStatus">Checking...</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">Gemma 3</span>
                                    <span class="status-value" id="gemmaStatus">Checking...</span>
                                </div>
                                <div class="status-item">
                                    <span class="status-label">DeepSeek-R1</span>
                                    <span class="status-value" id="deepseekStatus">Checking...</span>
                                </div>
                            </div>
                        </div>

                        <div class="monitor-controls">
                            <h3>üéõÔ∏è Monitor Controls</h3>
                            <div class="control-group">
                                <label>
                                    <input type="checkbox" id="autoRefresh" checked>
                                    Auto Refresh
                                </label>
                                <label>
                                    <input type="checkbox" id="showTimestamps" checked>
                                    Show Timestamps
                                </label>
                                <label>
                                    <input type="checkbox" id="filterErrors" checked>
                                    Highlight Errors
                                </label>
                            </div>
                            <div class="control-buttons">
                                <button id="refreshBtn" class="control-btn">üîÑ Refresh</button>
                                <button id="clearBtn" class="control-btn">üóëÔ∏è Clear</button>
                                <button id="exportBtn" class="control-btn">üì• Export</button>
                            </div>
                        </div>

                        <div class="filter-section">
                            <h3>üîç Filters</h3>
                            <div class="filter-group">
                                <label>Service:</label>
                                <select id="serviceFilter">
                                    <option value="all">All Services</option>
                                    <option value="api-gateway">API Gateway</option>
                                    <option value="ollama-gemma3">Gemma 3</option>
                                    <option value="ollama-deepseek">DeepSeek-R1</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Level:</label>
                                <select id="levelFilter">
                                    <option value="all">All Levels</option>
                                    <option value="info">Info</option>
                                    <option value="warning">Warning</option>
                                    <option value="error">Error</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="monitor-main">
                        <div class="monitor-header">
                            <h3>üìã Command Execution Log</h3>
                            <div class="monitor-stats">
                                <span class="stat-item">
                                    <span class="stat-label">Total Commands:</span>
                                    <span class="stat-value" id="totalCommands">0</span>
                                </span>
                                <span class="stat-item">
                                    <span class="stat-label">Success Rate:</span>
                                    <span class="stat-value" id="successRate">0%</span>
                                </span>
                                <span class="stat-item">
                                    <span class="stat-label">Avg Response:</span>
                                    <span class="stat-value" id="avgResponse">0ms</span>
                                </span>
                            </div>
                        </div>

                        <div class="log-container" id="logContainer">
                            <div class="log-entry info">
                                <div class="log-timestamp">2025-01-10 12:00:00</div>
                                <div class="log-service">system</div>
                                <div class="log-level">info</div>
                                <div class="log-message">Command execution monitor started</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="api">
                <h2>üîß API Usage</h2>
                
                <div class="api-section">
                    <h3>Quick Test</h3>
                    <div class="code-block">
                        <pre><code># Test setup
curl http://meatpi:8080/health

# Test AI interaction
curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Hello, who are you?"}'</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3>Auto-Selection (Recommended)</h3>
                    <div class="code-block">
                        <pre><code># Simple query (will use Gemma 3)
curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Show me running processes"}'

# Complex query (will use DeepSeek-R1)
curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Why is my system experiencing intermittent failures?"}'</code></pre>
                    </div>
                </div>

                <div class="api-section">
                    <h3>Force Specific Model</h3>
                    <div class="code-block">
                        <pre><code># Force Gemma 3
curl -X POST http://meatpi:8080/chat/gemma3 \
  -H "Content-Type: application/json" \
  -d '{"message": "List all Docker containers"}'

# Force DeepSeek-R1
curl -X POST http://meatpi:8080/chat/deepseek \
  -H "Content-Type: application/json" \
  -d '{"message": "Analyze this error log and suggest fixes"}'</code></pre>
                    </div>
                </div>
            </section>

            <section id="examples">
                <h2>üìã Common Tasks</h2>
                
                <div class="examples-grid">
                    <div class="example-card">
                        <h3>System Monitoring</h3>
                        <div class="code-block">
                            <pre><code>curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Show me current system status, CPU, memory, and disk usage"}'</code></pre>
                        </div>
                    </div>
                    
                    <div class="example-card">
                        <h3>Docker Management</h3>
                        <div class="code-block">
                            <pre><code>curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Show me all Docker containers and their status"}'</code></pre>
                        </div>
                    </div>
                    
                    <div class="example-card">
                        <h3>Network Troubleshooting</h3>
                        <div class="code-block">
                            <pre><code>curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Check network connectivity and show open ports"}'</code></pre>
                        </div>
                    </div>
                    
                    <div class="example-card">
                        <h3>Security Analysis</h3>
                        <div class="code-block">
                            <pre><code>curl -X POST http://meatpi:8080/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "Perform a basic security check of my system"}'</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section id="management">
                <h2>üõ†Ô∏è Management</h2>
                
                <div class="management-section">
                    <h3>Service Status</h3>
                    <div class="code-block">
                        <pre><code># Check all services
ssh inggo@meatpi 'cd /home/inggo/ai-agent && docker-compose -f docker-compose.dual-models.yml ps'

# Check specific service logs
ssh inggo@meatpi 'docker logs api-gateway'
ssh inggo@meatpi 'docker logs ollama-gemma3'
ssh inggo@meatpi 'docker logs ollama-deepseek'</code></pre>
                    </div>
                </div>

                <div class="management-section">
                    <h3>Restart Services</h3>
                    <div class="code-block">
                        <pre><code># Restart all services
ssh inggo@meatpi 'cd /home/inggo/ai-agent && docker-compose -f docker-compose.dual-models.yml restart'

# Restart specific service
ssh inggo@meatpi 'cd /home/inggo/ai-agent && docker-compose -f docker-compose.dual-models.yml restart api-gateway'</code></pre>
                    </div>
                </div>

                <div class="management-section">
                    <h3>Health Checks</h3>
                    <div class="code-block">
                        <pre><code># API Gateway health
curl http://meatpi:8080/health

# Model availability
curl http://meatpi:11434/api/tags
curl http://meatpi:11435/api/tags</code></pre>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>ü§ñ AI System Administrator Agent - Running on Raspberry Pi 5 "meatpi"</p>
            <p>Documentation generated automatically - Last updated: <span id="lastUpdated"></span></p>
        </div>
    </footer>

    <script src="js/monitor.js"></script>
</body>
</html>